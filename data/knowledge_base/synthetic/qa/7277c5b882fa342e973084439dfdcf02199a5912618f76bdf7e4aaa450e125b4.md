## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/DATA/common/getCommonArgs.sh

**Start chunk id:** 7277c5b882fa342e973084439dfdcf02199a5912618f76bdf7e4aaa450e125b4

## Content

**Question:** What are the two environment variables checked in the script, and what action is taken if they are not empty?

**Answer:** The script checks for the existence of two environment variables: O2_DPL_EXIT_TRANSITION_TIMEOUT_DEFAULT and O2_DPL_PROCESSING_TRANSITION_TIMEOUT_DEFAULT. If either of these variables is not empty, the script appends a command-line argument to the ARGS_ALL variable. Specifically, if O2_DPL_EXIT_TRANSITION_TIMEOUT_DEFAULT is not empty, the script adds --exit-transition-timeout followed by the value of this variable to ARGS_ALL. Similarly, if O2_DPL_PROCESSING_TRANSITION_TIMEOUT_DEFAULT is not empty, the script adds --data-processing-timeout followed by the value of this variable to ARGS_ALL.

---

**Question:** What happens if any of the required environment variables ($SEVERITY, $NUMAID, $SHMSIZE, $FILEWORKDIR, $EPNSYNCMODE, $INFOLOGGER_SEVERITY, $SHMTHROW, $NORATELOG) are not set when the getCommonArgs.sh script is sourced?

**Answer:** If any of the required environment variables ($SEVERITY, $NUMAID, $SHMSIZE, $FILEWORKDIR, $EPNSYNCMODE, $INFOLOGGER_SEVERITY, $SHMTHROW, $NORATELOG) are not set when the getCommonArgs.sh script is sourced, the script will output an error message to standard error stating "Configuration Environment Variable Missing in getCommonArgs.sh" and will then exit with a status of 1.

---

**Question:** What is the default value of the `O2_DPL_DEPLOYMENT_MODE` environment variable if it is not set, and in which condition is this default value assigned?

**Answer:** The default value of the `O2_DPL_DEPLOYMENT_MODE` environment variable is `OnlineECS` if it is not set, and this default value is assigned when the `ENABLE_METRICS` environment variable is not set to "1".

---

**Question:** Under what condition will the `--no-cleanup --shm-no-cleanup on --shmid` arguments be added to `ARGS_ALL`?

**Answer:** The `--no-cleanup --shm-no-cleanup on --shmid` arguments will be added to `ARGS_ALL` if both of the following conditions are met:
1. The environment variable `SHMTHROW` is set to 0.
2. The environment variable `SHM_MANAGER_SHMID` is not empty (i.e., it is set and not an empty string).
3. The environment variable `GEN_TOPO_CALIB_WORKFLOW` is not set to 1 (i.e., it is either not set or set to a value other than 1).