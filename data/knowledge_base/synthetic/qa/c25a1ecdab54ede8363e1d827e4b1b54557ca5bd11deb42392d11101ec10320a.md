## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/DATA/testing/examples/example-qc-postproc-workflow.sh

**Start chunk id:** c25a1ecdab54ede8363e1d827e4b1b54557ca5bd11deb42392d11101ec10320a

## Content

**Question:** What are the steps involved in creating and running the quality control post-processing workflow using the provided shell script?

**Answer:** The steps involved in creating and running the quality control post-processing workflow using the provided shell script are as follows:

1. The script first checks if the environment variables O2DPG_ROOT, O2_ROOT, and QUALITYCONTROL_ROOT are set. If any of these are missing, it prints an error message and exits.

2. It then proceeds to create the workflow using the command:
   ```
   ${O2DPG_ROOT}/DATA/production/o2dpg_qc_postproc_workflow.py --passName apass1 --qcdbUrl ccdb-test.cern.ch:8080 -o qc_postproc_workflow.json
   ```
   This command generates a workflow file named `qc_postproc_workflow.json` that is configured for the specified pass name and CCDB URL.

3. Next, the script runs the workflow with the following command:
   ```
   ${O2DPG_ROOT}/MC/bin/o2_dpg_workflow_runner.py -f qc_postproc_workflow.json --cpu-limit 4
   ```
   This command executes the generated workflow file, limiting the CPU usage to 4 cores.