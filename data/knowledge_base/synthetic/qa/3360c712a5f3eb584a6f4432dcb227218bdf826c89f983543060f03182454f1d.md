## Metadata

**Document link:** https://github.com/AliceO2Group/simulation/blob/main/docs/o2dpgworkflow/ccdb.md

**Start chunk id:** 3360c712a5f3eb584a6f4432dcb227218bdf826c89f983543060f03182454f1d

## Content

**Question:** What are the potential consequences of using outdated snapshot directories in a simulation run, and how does the simulation handle the timestamp mismatch?

**Answer:** Using outdated snapshot directories in a simulation run can lead to incorrect results because the cached objects within these directories may not match the current simulation timestamp. The simulation does not perform any validation of the timestamp; it will use the snapshot objects as-is, regardless of their age or relevance to the current simulation. This can result in discrepancies and potentially erroneous outcomes, as the cached data might be from a different time or run, which is not suitable for the current simulation conditions.

---

**Question:** What is the default cache directory for storing CCDB snapshots, and how can it be changed?

**Answer:** The default cache directory for storing CCDB snapshots is `${CWD}/ccdb`. This can be changed by setting the environment variable `ALICEO2_CCDB_LOCALCACHE` to an absolute path of your choice.

---

**Question:** What command would you use to download a specific alignment for the TPC at a given timestamp using the o2-ccdb-downloadccdbfile tool, and where should the cache directory be set?

**Answer:** To download a specific alignment for the TPC at a given timestamp using the `o2-ccdb-downloadccdbfile` tool, you would execute the following command:

```bash
${O2_ROOT}/bin/o2-ccdb-downloadccdbfile --host http://alice-ccdb.cern.ch -p TPC/Calib/Align --timestamp <timestamp> -d ${ALICEO2_CCDB_LOCALCACHE}
```

The cache directory should be set at `${ALICEO2_CCDB_LOCALCACHE}`.