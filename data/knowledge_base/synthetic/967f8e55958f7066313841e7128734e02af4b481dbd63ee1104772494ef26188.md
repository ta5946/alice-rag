## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/Custom_EventInfo/run.sh

**Start chunk id:** 967f8e55958f7066313841e7128734e02af4b481dbd63ee1104772494ef26188

## Content

**Question:** What is the purpose of the `external` generator in the simulation command?

**Answer:** The purpose of the `external` generator in the simulation command is to add custom information to the event header. This is achieved by running the simulation with an external generator that provides additional details beyond the standard event content.

---

**Question:** What is the purpose of the `external` generator in the simulation configuration file `sim.ini` used in this script?

**Answer:** The purpose of the `external` generator in the simulation configuration file `sim.ini` is to add custom information to the event header during the event generation process. This external generator is specified in the command line with the `-g external` option, which instructs the simulation to use this generator to modify the standard event data, potentially enriching it with additional details or analyses before the events are processed by the simulation modules.

---

**Question:** What specific steps would you need to take to modify the external generator to store additional custom information in the event header during the simulation?

**Answer:** To modify the external generator to store additional custom information in the event header during the simulation, you would need to:

1. Identify the specific details or data you wish to add to the event header. This could include particle types, interaction points, or any other relevant information.

2. Open the source code of the external generator. This typically involves locating the file or files that handle the event generation and manipulation.

3. Locate the part of the code that constructs the event header. This is where you will add the logic to include your custom information. You can use the existing structure as a template for integrating your new data.

4. Implement the code to populate the event header with your custom information. This might involve setting specific fields in the event header structure or creating new fields as needed.

5. Ensure that the modified external generator is properly compiled and linked with the simulation environment. This may require updating build scripts or configuration files.

6. Adjust the simulation command to use the modified external generator. This involves updating the `-g` flag in the `o2-sim` command to point to your new or updated generator executable.

7. After the simulation, use the provided `root` command to read the event information from the generated files and verify that your custom information is correctly stored.

8. Test the modified generator thoroughly to ensure that the additional information does not interfere with the simulation process or lead to any unexpected behavior.