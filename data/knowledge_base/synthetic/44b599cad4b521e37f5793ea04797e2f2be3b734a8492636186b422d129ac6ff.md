## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/DATA/production/getCommonArgs.sh

**Start chunk id:** 44b599cad4b521e37f5793ea04797e2f2be3b734a8492636186b422d129ac6ff

## Content

**Question:** What additional argument is added to `ARGS_ALL` if the `EPNSYNCMODE` is set to 1 and metrics are enabled?

**Answer:** The additional arguments added to `ARGS_ALL` if `EPNSYNCMODE` is set to 1 and metrics are enabled are:

```
--infologger-severity $INFOLOGGER_SEVERITY
--monitoring-backend influxdb-unix:///tmp/telegraf.sock
--resources-monitoring ${GEN_TOPO_RESOURCE_MONITORING:-15} ${GEN_TOPO_RESOURCE_MONITORING:+--dpl-stats-min-online-publishing-interval $GEN_TOPO_RESOURCE_MONITORING}
```

---

**Question:** What are the names of all the mandatory environment variables that must be set when using the getCommonArgs.sh script, and what happens if they are not set?

**Answer:** All the names of the mandatory environment variables that must be set when using the getCommonArgs.sh script are:
- SEVERITY
- NUMAID
- SHMSIZE
- FILEWORKDIR
- EPNSYNCMODE
- INFOLOGGER_SEVERITY
- SHMTHROW
- NORATELOG

If any of these environment variables are not set, the script will output the message "Configuration Environment Variable Missing in getCommonArgs.sh" to standard error and then exit with a status of 1.

---

**Question:** What will be added to the ARGS_ALL list if both O2_DPL_EXIT_TRANSITION_TIMEOUT_DEFAULT and O2_DPL_PROCESSING_TRANSITION_TIMEOUT_DEFAULT are defined?

**Answer:** If both O2_DPL_EXIT_TRANSITION_TIMEOUT_DEFAULT and O2_DPL_PROCESSING_TRANSITION_TIMEOUT_DEFAULT are defined, the following will be added to the ARGS_ALL list:

--exit-transition-timeout [value of O2_DPL_EXIT_TRANSITION_TIMEOUT_DEFAULT]
--data-processing-timeout [value of O2_DPL_PROCESSING_TRANSITION_TIMEOUT_DEFAULT]

Where [value of O2_DPL_EXIT_TRANSITION_TIMEOUT_DEFAULT] and [value of O2_DPL_PROCESSING_TRANSITION_TIMEOUT_DEFAULT] are the respective values of these environment variables.

---

**Question:** What additional arguments are added to `ARGS_ALL` if the `SHM_MANAGER_SHMID` environment variable is set and the `GEN_TOPO_CALIB_WORKFLOW` environment variable is not set to 1?

**Answer:** --no-cleanup --shm-no-cleanup on --shmid <value_of_SHM_MANAGER_SHMID>