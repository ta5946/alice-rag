## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/UTILS/FileIOGraph/README.md

**Start chunk id:** d8e45d8ad6cd0e35f9f89a98fd386512618d8ab3af61b6c55c02aaec2e9074e2

## Content

**Question:** What is the purpose of the `monitor_fileaccess` tool?

**Answer:** The `monitor_fileaccess` tool is designed to report on read and write events to files, indicating which process is involved. It leverages the fanotify kernel system for efficient monitoring and allows restricting reports to specific processes by specifying a mother PID. This tool is standalone and can be compiled using the provided command. It is used to track file access activities for O2DPG Monte Carlo tasks, aiding in verifying data paths and enabling early file removal when no longer needed.

---

**Question:** What specific command-line arguments and environment variables are required to run the `monitor_fileaccess` tool to monitor file access events for child processes of a specific shell?

**Answer:** To run the `monitor_fileaccess` tool and monitor file access events for child processes of a specific shell, the following command-line arguments and environment variable must be used:

```
sudo MAXMOTHERPID=689584 ./monitor_fileaccess.exe | tee /tmp/fileaccess
```

Here, `MAXMOTHERPID` is set to `689584`, which specifies the shell's PID for which child processes' file access events will be monitored.

---

**Question:** What specific kernel system does the `monitor_fileaccess` tool utilize for efficient monitoring of file access events, and how can this tool be restricted to monitor events from specific processes?

**Answer:** The `monitor_fileaccess` tool utilizes the fanotify kernel system for efficient monitoring of file access events. This tool can be restricted to monitor events from specific processes by specifying a mother PID when running the tool.