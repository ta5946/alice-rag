## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/Selective_Transport_pi0/run.sh

**Start chunk id:** 5417f6c6b64ceee3d22fcfaf9074776a911d35b7fd6c8bdd95373efc55aff09b

## Content

set -x

MODULES="PIPE ITS TPC"
NEVENTS1=100
NEVENTS2=1
NWORKERS=1

### step 1

o2-sim -j ${NWORKERS} -n ${NEVENTS1} -g pythia8pp -m ${MODULES} -o step1 \
       --configFile sim_step1.ini --seed 73141128

### step 2

o2-sim -j ${NWORKERS} -n ${NEVENTS2} -g extkinO2 -m ${MODULES} -o step2 \
       --externalKinFile step1_Kine.root \
       --configFile sim_step2.ini \
       --trigger external

---

#!/usr/bin/env bash
#
# This document presents an example of a simulation that illustrates running the simulation and selectively transporting particles
# through the detector geometry based on specified settings.
#
# The simulation employs the Pythia8 pp generator with default configurations. The simulation's specific settings are outlined in the sim.ini file.
#
# Only the parameters for the selective particle transport are modified, specifically:
# ```
# [Stack]
# transportPrimary=external
# transportPrimaryFileName=transportPDG.macro
# transportPrimaryFuncName=transportPDG(321)
# transportPrimaryInvert=false
# ```
#
# `transportPrimary` specifies the selection mode, where `external` indicates that the selection is defined by a plugin macro, 
# loaded via the function call `transportPrimaryFuncName` from the file `transportPrimaryFileName`. The `transportPrimaryInvert` 
# flag can be toggled to invert the selection, thereby preventing the transport of chosen particles.

---

#
#
# In the second part of these simulation examples, we demonstrate how to proceed with the simulation from the initial step and allow the propagation of all remaining tracks. This process is confined to events that meet a particular trigger condition, namely, both photons from the pi0 decay must have converted within a specified region.
#