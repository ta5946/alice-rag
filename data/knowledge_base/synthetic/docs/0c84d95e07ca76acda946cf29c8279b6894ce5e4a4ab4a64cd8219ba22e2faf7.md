## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/MC/run/examples/adaptive_pythia8.sh

**Start chunk id:** 0c84d95e07ca76acda946cf29c8279b6894ce5e4a4ab4a64cd8219ba22e2faf7

## Content

# Integrate signal into background

o2-sim -j ${NWORKERS} -n ${SIGEVENTS} -g external -m ${MODULES} -o sgn \
       --configFile ${O2DPG_ROOT}/MC/config/examples/ini/adaptive_pythia8.ini \
       --embedIntoFile bkg_Kine.root \
       > logsgn 2>&1

---

#!/usr/bin/env bash

### This script runs the simulation of signal embedding within a heavy-ion background.
### It starts by generating the background using the Pythia8/Angantyr model with default settings.
### The signal generation is set up to be embedded into the background (--embedIntoFile).
### The signal event generator, an external tool, includes adaptive features that determine the number of signal events based on the background characteristics.
### These details are specified in the INI configuration files (--configFile).

set -x

MODULES="PIPE ITS TPC"
BKGEVENTS=5
SIGEVENTS=20
NWORKERS=8

# generate background

o2-sim -j ${NWORKERS} -n ${BKGEVENTS} -g pythia8hi -m ${MODULES} -o bkg \
       --configFile ${O2DPG_ROOT}/MC/config/common/ini/basic.ini \
       > logbkg 2>&1

# embed signal into background