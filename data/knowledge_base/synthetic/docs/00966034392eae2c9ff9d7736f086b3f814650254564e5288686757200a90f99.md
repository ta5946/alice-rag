## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/DATA/testing/private/shahoian/runTF_PB.sh

**Start chunk id:** 00966034392eae2c9ff9d7736f086b3f814650254564e5288686757200a90f99

## Content

DOCUMENT:
    export ITS_CONFIG=" --tracking-mode sync_misaligned "
#export ITS_CONFIG=" --tracking-mode cosmics "

export WORKFLOW_EXTRA_PROCESSING_STEPS="MFT_RECO,MATCH_TPCTRD,MATCH_TPCTOF"  #,MATCH_ITSTPC,MATCH_TPCTRD,MATCH_ITSTPCTRD,MATCH_TPCTOF,MATCH_ITSTPCTOF"
export WORKFLOW_DETECTORS_FLP_PROCESSING="TOF,FT0,FV0,FDD"
#export WORKFLOW_DETECTORS_MATCHING=
export ARGS_EXTRA_PROCESS_o2_tpcits_match_workflow=" --ignore-bc-check "

export ED_TRACKS="ITS,TPC,ITS-TPC,ITS-TPC-TOF,TPC-TOF,MFT"
export ED_CLUSTERS="ITS,TPC,TOF,MFT"

for wf in "$@"
do
 export GEN_TOPO_WORKFLOW_NAME=$wf
 EXT="xml"   
 [ ! -z $WORKFLOWMODE ] && [ $WORKFLOWMODE == "print" ] && EXT="sh"
 /opt/alisw/el9/GenTopo/bin/gen_topo.sh > "$HOME/gen_topo/PB/${GEN_TOPO_WORKFLOW_NAME}.${EXT}"
done

---

DOCUMENT:
    set NHBPERTF=128                                                      # Number of HBF per TF
set ALL_EXTRA_CONFIG="HBFUtils.nHBFPerTF=$NHBPERTF"

---

export MULTIPLICITY_FACTOR_PROCESS_its_tracker=4
export MULTIPLICITY_FACTOR_PROCESS_its_stf_decoder=4
export MULTIPLICITY_FACTOR_PROCESS_mft_stf_decoder=2
export MULTIPLICITY_FACTOR_PROCESS_itstpc_track_matcher=2
export MULTIPLICITY_FACTOR_PROCESS_tof_matcher=2
export MULTIPLICITY_FACTOR_PROCESS_mch_data_decoder=5

---

# Set these variables to indicate the location of the workflow repository in your home directory
export GEN_TOPO_HASH=0                                           # Define the path to the O2DataProcessing repository
export GEN_TOPO_SOURCE=/home/shahoian/alice/O2DataProcessing     # Path to the O2DataProcessing repository

export EXTINPUT=1
export EPNSYNCMODE=1
export SYNCMODE=1
export SHMSIZE=128000000000
export INFOLOGGER_SEVERITY=warning

export EDJSONS_DIR="/home/ed/jsons"

---

DOCUMENT:
    export GEN_TOPO_LIBRARY_FILE=testing/private/shahoian/workflows_PB.desc # Path to the topology description library file: Pilot Beam
export WORKFLOW_DETECTORS=ALL                                        # Optional workflow parameter: List of detectors to process for reconstruction (comma-separated)
export WORKFLOW_DETECTORS_QC=ALL                                     # Optional workflow parameter: List of detectors to process for quality control
export WORKFLOW_DETECTORS_CALIB=                                     # Optional workflow parameter: List of detectors to process for calibration
export WORKFLOW_PARAMETERS=QC,CTF,GPU                                # Additional workflow parameters: Quality Control, CTF, GPU
export RECO_NUM_NODES_OVERRIDE=0                                     # Override the number of EPN compute nodes (default is set in the library file description)
export NHBPERTF=128                                                  # Number of HBF per TF

---

EXPORT CONFIG_EXTRA_PROCESS_o2_gpu_reco_workflow="GPU_proc.debugLevel=1;GPU_proc.memoryScalingFactor=1.5;GPU_global.synchronousProcessing=0"
EXPORT CONFIG_EXTRA_PROCESS_o2_its_reco_workflow="tpcitsMatch.maxVDriftUncertainty=0.2;tpcitsMatch.safeMarginTimeCorrErr=10.;tpcitsMatch.cutMatchingChi2=1000;tpcitsMatch.crudeAbsDiffCut[0]=5;tpcitsMatch.crudeAbsDiffCut[1]=5;tpcitsMatch.crudeAbsDiffCut[2]=0.3;tpcitsMatch.crudeAbsDiffCut[3]=0.3;tpcitsMatch.crudeAbsDiffCut[4]=10;tpcitsMatch.crudeNSigma2Cut[0]=200;tpcitsMatch.crudeNSigma2Cut[1]=200;tpcitsMatch.crudeNSigma2Cut[2]=200;tpcitsMatch.crudeNSigma2Cut[3]=200;tpcitsMatch.crudeNSigma2Cut[4]=900;"
EXPORT CONFIG_EXTRA_PROCESS_o2_primary_vertexing_workflow="pvertexer.nSigmaTimeCut=100;pvertexer.dbscanMaxDist2=30;pvertexer.dcaTolerance=3.;pvertexer.pullIniCut=100;pvertexer.addZSigma2=0.1;pvertexer.tukey=20.;pvertexer.addZSigma2Debris=0.01;pvertexer.addTimeSigma2Debris=1.;pvertexer.maxChi2Mean=30;"
EXPORT MULTIPLICITY_FACTOR_PROCESS_its_tracker=4

---

#!/bin/bash

export GEN_TOPO_PARTITION=test                                       # ECS Partition
export DDMODE=processing-disk                                        # DataDistribution mode - possible options include: processing, disk, processing-disk, or discard
#export DDMODE=processing                                             # DataDistribution mode - possible options include: processing, disk, processing-disk, or discard

# You can use these settings to retrieve the Workflow Repository via a hash or tag
#export GEN_TOPO_HASH=1                                              # Use a git hash to fetch the O2DataProcessing repository
#export GEN_TOPO_SOURCE=v0.5                                         # Specify the git hash to use for fetching

---

export MULTIPLICITY_FACTOR_RAWDECODERS=1
export MULTIPLICITY_FACTOR_CTFENCODERS=1
export MULTIPLICITY_FACTOR_REST=1