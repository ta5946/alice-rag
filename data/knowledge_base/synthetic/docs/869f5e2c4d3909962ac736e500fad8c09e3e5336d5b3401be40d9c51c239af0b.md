## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/HepMC_STARlight/README.md

**Start chunk id:** 869f5e2c4d3909962ac736e500fad8c09e3e5336d5b3401be40d9c51c239af0b

## Content

# IMPORTANT
To execute this example, ensure the STARlight package is installed on your system.
```
$ aliBuild build STARlight --defaults o2
```
It's worth noting that the `--defaults o2` option is not essential, as `STARlight` operates in an isolated environment distinct from the one utilized by the `o2` simulation.

# WARNING
This example uses the `STARlight` configuration file `slight.in` from the `STARlight` installation directory. In this file, the number of events set to generate is fixed at `N_EVENTS = 1000`. Consequently, the maximum number of events that can be injected into the `o2` simulation is `NEV = 1000`. However, this can be managed dynamically by instructing `STARlight` to produce the exact number of events required by the `o2` simulation.

---

# ENHANCEMENT
This illustration can be enhanced by executing the `STARlight` event generator in the background and transmitting the `HepMC` data through a pipe that is subsequently read by the `o2` simulation. To keep the example straightforward, this step is omitted.

---

This is a straightforward simulation example demonstrating the use of the `STARlight` event generator to run event simulations.
The `STARlight` event generation is initiated in a clean environment through the `run-starlight.sh` script.

The `run-starlight.sh` script sets up the necessary environment for executing `STARlight`. It copies essential files from the `STARlight` installation directory into the current working directory. These files include:
- `slight.in` for configuring the event generator,
- `starlight2hepmc.awk` and `pdgMass.awk` for converting the output to `HepMC2` format.

Upon completion of the `STARlight` process, the resulting `HepMC2` output file is named `startlight.hepmc` and is ready for use in the subsequent `o2` simulation stage.