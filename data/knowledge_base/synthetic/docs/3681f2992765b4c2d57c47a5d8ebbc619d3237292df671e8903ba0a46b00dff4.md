## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/MC/run/PWGEM/runAnchoredPythia8GapTriggeredLFee_pp_random_np1_gap4.sh

**Start chunk id:** 3681f2992765b4c2d57c47a5d8ebbc619d3237292df671e8903ba0a46b00dff4

## Content

#!/bin/bash

#
# Script for configuring LF->ee enhanced dielectron MC simulation with LHC22o apass6 as the anchor
#

# Example of anchor configuration, sourced from https://its.cern.ch/jira/browse/O2-4586
export ALIEN_JDL_LPMANCHORPASSNAME=apass6
export ALIEN_JDL_MCANCHOR=apass6
export ALIEN_JDL_CPULIMIT=8
export ALIEN_JDL_LPMRUNNUMBER=526641
export ALIEN_JDL_LPMPRODUCTIONTYPE=MC
export ALIEN_JDL_LPMINTERACTIONTYPE=pp
export ALIEN_JDL_LPMPRODUCTIONTAG=LHC24b1b
export ALIEN_JDL_LPMANCHORRUN=526641
export ALIEN_JDL_LPMANCHORPRODUCTION=LHC22o
export ALIEN_JDL_LPMANCHORYEAR=2022
export ALIEN_JDL_OUTPUT=*.dat@disk=1,*.txt@disk=1,*.root@disk=2

export NTIMEFRAMES=1
export NSIGEVENTS=20
export SPLITID=100
export PRODSPLIT=153
export CYCLE=0

# On the GRID, this is used as the seed; if set, it takes precedence over SEED
#export ALIEN_PROC_ID=2963436952
export SEED=0

# For pp interactions and 50 events per time frame, we start with 4 workers.
export NWORKERS=4

---

# For pp collisions and 50 events per TF, only 4 workers are launched.
export NWORKERS=4

# The generator is defined via an ini file.
# Use 20/40/40 sampling for different generators.
# Generate a random number.
RNDSIG=$(($RANDOM % 100))

CONFIGNAME="Generator_GapTriggered_LFee_random_np1_gap4.ini"

export ALIEN_JDL_ANCHOR_SIM_OPTIONS="-gen external -ini $O2DPG_ROOT/MC/config/PWGEM/ini/$CONFIGNAME"

# Execute the central anchor steering script; this process includes:
# * Deriving the timestamp
# * Determining the interaction rate
# * Extracting and preparing configurations (which detectors are included in the run, etc.)
# * Running the simulation (and quality control)
# To disable quality control, uncomment the following line:
#export DISABLE_QC=1
${O2DPG_ROOT}/MC/run/ANCHOR/anchorMC.sh