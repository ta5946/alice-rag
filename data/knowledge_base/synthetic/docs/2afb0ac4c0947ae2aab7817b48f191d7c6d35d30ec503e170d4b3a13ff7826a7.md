## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/GRID/utils/extractFailureMessage.sh

**Start chunk id:** 2afb0ac4c0947ae2aab7817b48f191d7c6d35d30ec503e170d4b3a13ff7826a7

## Content

DOCUMENT:
    CMD="grep -m 1 -B2 -A10 ${pattern} $filetocheck"
T=$(eval "${CMD}")
if [ "$?" -eq 0 ]; then
  echo ""
  echo "==============================ERROR in ${filetocheck} =============================="
  echo ""
  echo "${T}"
fi

---

#!/usr/bin/env bash

# script designed to identify failure indications in a file and report the first encountered error

filetocheck=$1
if [ -z "${filetocheck}" ]; then
  echo "Please provide a file to search"
  exit 1
fi

---

- Matching for "line.*Killed"                     \
         - Matching for "\*\*\* Error in\"" # <--- Indicating LIBC fatal error messages

---

# List of typical failure indicators (add more if necessary)
pattern="-e \"\<[Ee]xception\"                         \
         -e \"segmentation violation\"                 \
         -e \"error while initializing workflow\"       \
         -e \"bus error\"                              \
         -e \"Assertion.*failed\"                      \
         -e \"Fatal in\"                               \
         -e \"libc++abi.*terminating\"                 \
         -e \"There was a crash.\"                     \
         -e \"arrow.*Check failed\"                    \
         -e \"terminate called after\"                 \
         -e \"terminate called without an active\"     \
         -e \"\]\[FATAL\]\"                            \
         -e \"\*\*\* Program crashed\"                 \
         -e \"\*\*\* Fatal Exception\"                 \
         -e \"was killed abnormally\"                  \
         -e \"line.*Killed\"                           \\"