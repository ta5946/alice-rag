## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/HepMC_STARlight/run_HepMCToAOD.sh

**Start chunk id:** d3671cd64e57133bc1ce0a72a1fe36311b126f58961171cb67a9711871958d58

## Content

#!/usr/bin/env bash
#
# This document provides a straightforward simulation example to illustrate:
#

# a) how to initiate the STARlight event generator for producing HepMC files
# b) how to integrate these HepMC files into an O2Physics Analysis task (a generator-only analysis)

STARLIGHT_ROOT=$(starlight-config)
if [ ! "${STARLIGHT_ROOT}" ]; then
    echo "STARLIGHT must be loaded; alienv enter ..."
    exit 1
fi

# PART a)
# ./run-starlight.sh
set -x
# PART b) ... apply vertex smearing to the HepMC events and conduct a basic analysis
NEV=$(grep EVENT slight.out | wc -l)

o2-sim-dpl-eventgen -b --nevents ${NEV} --generator hepmc --confKeyValues \
                    "GeneratorFileOrCmd.fileNames=starlight.hepmc;Diamond.position[2]=0.1;Diamond.width[2]=0.05" |\
                    o2-sim-mctracks-to-aod -b | o2-analysis-mctracks-to-aod-simple-task -b