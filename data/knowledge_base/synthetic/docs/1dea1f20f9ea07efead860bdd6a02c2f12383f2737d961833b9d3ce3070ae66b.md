## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/DATA/production/calib/mft-noise-aggregator.sh

**Start chunk id:** 1dea1f20f9ea07efead860bdd6a02c2f12383f2737d961833b9d3ce3070ae66b

## Content

DOCUMENT:
    PROXY_INSPEC="A:MFT/DIGITS/0;B:MFT/DIGITSROF/0"

WORKFLOW="o2-dpl-raw-proxy $ARGS_ALL --proxy-name mft-noise-input-proxy --dataspec \"$PROXY_INSPEC\" --network-interface ib0 --channel-config \"name=mft-noise-input-proxy,method=bind,type=pull,rateLogging=0,transport=zeromq\" | "
WORKFLOW+="o2-calibration-mft-calib-workflow $ARGS_ALL --configKeyValues \"$ARGS_ALL_CONFIG\" --useDigits --prob-threshold 1e-5 --send-to-server DCS-CCDB --path-CCDB \"/MFT/Calib/NoiseMap\" --path-DCS \"/MFT/Config/NoiseMap\" --path-CCDB-single \"/MFT/Calib/NoiseMapSingle\" | "
WORKFLOW+="o2-calibration-ccdb-populator-workflow $ARGS_ALL --configKeyValues \"$ARGS_ALL_CONFIG\" --ccdb-path=\"http://o2-ccdb.internal\" --sspec-min 0 --sspec-max 0 | "
WORKFLOW+="o2-calibration-ccdb-populator-workflow $ARGS_ALL --configKeyValues \"$ARGS_ALL_CONFIG\" --ccdb-path=\"$DCSCCDBSERVER_PERS\" --sspec-min 1 --sspec-max 1 --name-extension dcs | "
WORKFLOW+="o2-dpl-run $ARGS_ALL $GLOBALDPLOPT"

---

#!/bin/bash

source common/setenv.sh

# ---------------------------------------------------------------------------------------------------------------------
# Define general arguments
source common/getCommonArgs.sh

PROXY_INSPEC="A:MFT/DIGITS/0;B:MFT/DIGITSROF/0"

---

if [ $WORKFLOWMODE == "print" ]; then
  echo Workflow command:
  echo $WORKFLOW | sed "s/| */|\n/g"
else
  # Run the assembled command
  WORKFLOW+=" --$WORKFLOWMODE ${WORKFLOWMODE_FILE}"
  eval $WORKFLOW
fi