## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/doc/Upgrades.md

**Start chunk id:** 151588c2186ab8b2231b0885f486a8ffbddba4c78b9badfae8d44a49f2df92be

## Content

<!-- doxy
\page refdocUpgrades Upgrades
/doxy -->

# Upgrades in the O2 Detector

## Guidelines

Code for detector upgrades should be placed in `Detectors/Upgrades` and
`DataFormats/Detectors/Upgrades`. This code is compiled only if the CMake option
`ENABLE_UPGRADES` is enabled, for instance:
```sh
cmake -DENABLE_UPGRADES=ON <src dir>
```
CMake instructions specific to upgrades should be enclosed as follows:
```cmake
if(ENABLE_UPGRADES)
# ...
endif(ENABLE_UPGRADES)
```
Code components to be compiled exclusively for upgrades should be protected by:
```c++
#ifdef ENABLE_UPGRADES
// ...
#endif
```
The appropriate compiler definition is applied globally by default.