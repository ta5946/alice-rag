## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/MC/run/ANCHOR/tests/test_anchor_2023_apass2_pp.sh

**Start chunk id:** acb692409a2f4ff1aa1826c722e93da4603fd1fd2edf3f8676c903378214cda5

## Content

#!/bin/bash

#
# An example steering script for anchored MC simulations in pp collisions
#

# Example anchoring details, adapted from https://its.cern.ch/jira/browse/O2-4586
export ALIEN_JDL_LPMANCHORPASSNAME=apass2
export ALIEN_JDL_MCANCHOR=apass2
export ALIEN_JDL_CPULIMIT=8
export ALIEN_JDL_LPMRUNNUMBER=535069
export ALIEN_JDL_LPMPRODUCTIONTYPE=MC
export ALIEN_JDL_LPMINTERACTIONTYPE=pp
export ALIEN_JDL_LPMPRODUCTIONTAG=LHC24a2
export ALIEN_JDL_LPMANCHORRUN=535069
export ALIEN_JDL_LPMANCHORPRODUCTION=LHC23f
export ALIEN_JDL_LPMANCHORYEAR=2023

export NTIMEFRAMES=1
export NSIGEVENTS=50
export SPLITID=100
export PRODSPLIT=153
export CYCLE=0

# On the GRID, this variable is set and used as a seed; when set, it takes precedence over SEED.
#export ALIEN_PROC_ID=2963436952
export SEED=5

# For pp collisions and 50 events per time frame, only 4 workers are launched.
export NWORKERS=2

---

# For pp collisions and 50 events per TF, we only start 4 workers.
export NWORKERS=2

export ALIEN_JDL_ANCHOR_SIM_OPTIONS="-gen pythia8 -confKey \"GeometryManagerParam.useParallelWorld=1;GeometryManagerParam.usePwGeoBVH=1;GeometryManagerParam.usePwCaching=1\" ${LOCAL_CONFIG:+--overwrite-config ${LOCAL_CONFIG}}"

# Execute the central anchor steering script, which involves:
# - determining the timestamp
# - calculating the interaction rate
# - extracting and preparing configurations (identifying which detectors are included in the run)
# - running the simulation and quality control
# To disable quality control, uncomment the following line:
#export DISABLE_QC=1
${O2DPG_ROOT}/MC/run/ANCHOR/anchorMC.sh