## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/UTILS/FileIOGraph/README.md

**Start chunk id:** d8e45d8ad6cd0e35f9f89a98fd386512618d8ab3af61b6c55c02aaec2e9074e2

## Content

This is a lightweight custom utility designed to track file access and generate graphs depicting file production and consumption by O2DPG Monte Carlo tasks. These insights are beneficial for:

(a) validating data pathways
(b) promptly removing files as soon as they are no longer required


In greater detail, the key components of this directory include:

* monitor_fileaccess:

A tool, accessible via root, that offers reports on read and write events to files along with the involved process. Built on the efficient fanotify kernel system, the tool allows for restricted reporting to specific shells (by specifying the mother PID).

The tool is standalone and can be compiled, if necessary, by executing

`g++ monitor_fileaccess.cpp -O2 -o monitor_fileaccess.exe`

To run the tool, simply use:

```
sudo MAXMOTHERPID=689584 ./monitor_fileaccess.exe | tee /tmp/fileaccess
```

This command will monitor file events from child processes of shell 689584.