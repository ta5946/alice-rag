## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/UTILS/ReadHepMCEventSkip.sh

**Start chunk id:** e15c585904c4b64c649ffc7199d44c83043133301f7ef3963d3ef5d3c8007cb4

## Content

#!/bin/bash

# Path to the JSON file
JSON_FILE=$1
tf=$2

# retrieve event offset
JQ_COMMAND="jq '.[] | select(.HepMCEventOffset) | .HepMCEventOffset' ${JSON_FILE}"
offset=`eval ${JQ_COMMAND}`
if [ ! $offset ]
then
  offset=0
fi

# count generated events
JQ_COMMAND="jq '[.[] | select(.tf < ${tf}) | .HepMCEventCount] | add' ${JSON_FILE}"
events=`eval ${JQ_COMMAND}`
if [ ! $events ]
then
  events=0
fi

# total number of events to skip
echo $((offset + events))