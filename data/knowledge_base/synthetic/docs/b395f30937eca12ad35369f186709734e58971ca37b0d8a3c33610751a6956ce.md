## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/HepMC/child.sh

**Start chunk id:** b395f30937eca12ad35369f186709734e58971ca37b0d8a3c33610751a6956ce

## Content

#!/usr/bin/env bash

cmd="./crmc.sh"
additional_config="GeneratorFileOrCmd.bMaxSwitch=none"
seed=$RANDOM
nev=1
out=

usage()
{
    cat <<EOF
Usage: $0 [OPTIONS]

Options:

  -c,--cmdline COMMAND     Command line
  -m,--additional-config CONFIG More configurations ($additional_config)
  -s,--seed    SEED        Random number seed ($seed)
  -n,--nevents EVENTS      Number of events ($nev)
  -o,--output  OUTPUT      Output prefix ($out)
  --                       Remaining command line arguments passed to o2-sim

COMMAND should be quoted if it includes spaces or special
characters.

Below is the help output of o2-sim

EOF
}

---

Below is the help information for o2-sim

EOF
}

while test $# -gt 0 ; do
    case $1 in
        -c|--cmdline) cmd="$2" ; shift ;;
        -s|--seed)    seed=$2 ; shift ;;
        -n|--nevents) nev=$2 ; shift ;;
        -o|--output)  out=$2 ; shift ;;
        -h|--help) usage; o2-sim --help full ; exit 0 ;;
        --)           shift ; break ;;
        *) echo "Unknown option '$1', did you forget '--'?" >/dev/stderr
           exit 1
           ;;
    esac
    shift
done

if test "x$out" = "x" ; then
    out=`echo $cmd | sed 's,^\./,,' | tr '[$/. ]' '_'`
fi
out=`echo "$out" | tr ' ' '_'`

export VMCWORKDIR=${O2_ROOT}/share
o2-sim -g hepmc --configKeyValues "GeneratorFileOrCmd.cmd=$cmd;${more}" \
       --outPrefix "$out" --seed $seed --nEvents $nev $@