## Metadata

**Document link:** https://github.com/AliceO2Group/simulation/blob/main/docs/o2dpgworkflow/ccdb.md

**Start chunk id:** 3360c712a5f3eb584a6f4432dcb227218bdf826c89f983543060f03182454f1d

## Content

This feature can also be utilized to run a simulation without accessing the CCDB: Just point to or duplicate a snapshot directory from a previous simulation run into the directory where you are currently running the simulation.

**NOTE**: There is no verification of the timestamp of your simulation relative to the cached objects; these will be used as-is, and are identified solely by their path.

## Utilize custom objects/snapshots

---

---
sort: 2
title: CCDB
---

# CCDB

Similar to other `O2` executables, the simulation relies on the CCDB to fetch configurations, metadata, or objects needed during the run.

## Prerequisites

A valid GRID **token** is required. For details, see [here](../gettingstarted/README.md#alien-grid-token)

## CCDB snapshots

While running the simulation workflow, various tasks require CCDB objects. Since the simulation spans different timeframes and tasks can run in parallel, requiring the same objects, we utilize **snapshots**. When an object is requested for the first time, it is downloaded and **stored** in a cache, which is then used for subsequent requests to avoid repeated queries to the CCDB. By default, the cache is located at `${CWD}/ccdb`, but you can change this by setting:
```bash
export ALICEO2_CCDB_LOCALCACHE=/path/to/snapshot_cache
```
**NOTE**: Ensure that the path specified is absolute.

---

## Utilizing Custom Objects/Snapshots

The caching system isn't just beneficial for reducing unnecessary queries to the CCDB; it also enables the incorporation of custom objects into your workflow that wouldn't otherwise be retrieved based on the timestamp.

For instance, you may need a specific alignment at a particular timestamp `<timestamp>`, which doesn't necessarily align with the simulation's timestamp. Assuming your cache is located at `${ALICEO2_CCDB_LOCALCACHE}`, you can download a specific TPC alignment by executing:
```bash
${O2_ROOT}/bin/o2-ccdb-downloadccdbfile --host http://alice-ccdb.cern.ch -p TPC/Calib/Align --timestamp <timestamp> -d ${ALICEO2_CCDB_LOCALCACHE}
```
After running this command, you can proceed with the simulation, and the desired TPC alignment will be utilized.