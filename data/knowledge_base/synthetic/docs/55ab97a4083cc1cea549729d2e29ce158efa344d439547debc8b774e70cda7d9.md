## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/Adaptive_Pythia8/run.sh

**Start chunk id:** 55ab97a4083cc1cea549729d2e29ce158efa344d439547debc8b774e70cda7d9

## Content

# PART b)
# generate pythia8 events based on the configuration specified in the file 'adaptive_pythia8.macro'.
# pythia8 is initialized using the 'pythia8_inel.cfg' file, and the setup enables the generator to respond to a notification about the embedding status of the simulation, providing the header of the background event for further decisions. The number of pythia8 events to be embedded is determined by a formula that depends on the number of primary particles in the background events.
NSGN=10
o2-sim -j 20 -n ${NSGN} -m PIPE ITS \
       -g external --configKeyValues 'GeneratorExternal.fileName=adaptive_pythia8.macro;GeneratorExternal.funcName=adaptive_pythia8("0.002 * x")' \
       --embedIntoFile bkg_Kine.root -o sgn > logsgn 2>&1

---

#!/usr/bin/env bash
#
# This document provides a basic example of the ALICE O2 simulation, illustrating the following points:

# a) how to execute a simple background event simulation with customizable parameters
# b) how to conduct a simulation that generates signal events using a custom external generator, which can adjust its behavior according to the background event characteristics.

set -x

# PART a)
NBGR=5
o2-sim -j 20 -n ${NBGR} -g pythia8hi -m PIPE ITS -o bkg --configKeyValues \
       "Diamond.position[2]=0.1;Diamond.width[2]=0.05"