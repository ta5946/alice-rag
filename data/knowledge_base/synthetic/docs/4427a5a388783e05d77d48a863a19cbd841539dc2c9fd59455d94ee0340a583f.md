## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/MC/run/PWGHF/run_pp_PWGHF_testbeam_ccbar_trigger.sh

**Start chunk id:** 4427a5a388783e05d77d48a863a19cbd841539dc2c9fd59455d94ee0340a583f

## Content

# start the workflow
# enable higher parallelism for the timeframe with --cpu-limit set to 32
${O2DPG_ROOT}/MC/bin/o2_dpg_workflow_runner.py -f workflow.json -tt aod --cpu-limit 32

---

#!/bin/bash

#
# A sample workflow for MC->RECO->AOD production for simple pp min bias events, aimed at test beam conditions.

# Ensure O2DPG and O2 are loaded
[ ! "${O2DPG_ROOT}" ] && echo "Error: O2DPG is not loaded" && exit 1
[ ! "${O2_ROOT}" ] && echo "Error: O2 is not loaded" && exit 1


# ----------- START ACTUAL JOB  ----------------------------- 

NWORKERS=${NWORKERS:-8}
MODULES="--skipModules ZDC"
SIMENGINE=${SIMENGINE:-TGeant4}
#NBKGEVENTS=${NBKGEVENTS:-1}

# CCbar trigger configuration
${O2DPG_ROOT}/MC/bin/o2dpg_sim_workflow.py -eCM 900 -col pp -gen pythia8 -proc "inel" -tf 25 \
	                                            -ns 22 -e ${SIMENGINE}                  \
						    -j ${NWORKERS} -interactionRate 10000 \
						    -confKey "Diamond.width[2]=6."        \
						    -trigger "external" -ini "$O2DPG_ROOT/MC/config/PWGHF/ini/trigger_hf.ini"