## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/MC/run/PWGEM/runAnchoredHFGapToDielectrons_pp_Gap7.sh

**Start chunk id:** 2d4772ec61d2a4f0d7451a8e3771ba0eb32394ec9ff7f1a440f31a2eb9bfa464

## Content

# For pp collisions and 50 events per TF, we start only 4 workers.
export NWORKERS=2

# define the generator using an ini file
# use a 20/40/40 split for different generators
# generate a random number
RNDSIG=$(( $RANDOM % 100 ))

if [[ $RNDSIG -ge 0 && $RNDSIG -lt 20 ]];
then
        CONFIGNAME="GeneratorHFGapTriggered_Charm_Gap7.ini"
elif [[ $RNDSIG -ge 20 && $RNDSIG -lt 40 ]];
then
        CONFIGNAME="GeneratorHFGapTriggered_BeautyForcedDecay_Gap7.ini"
elif [[ $RNDSIG -ge 40 && $RNDSIG -lt 100 ]];
then
        CONFIGNAME="GeneratorHFGapTriggered_BeautyNoForcedDecay_Gap7.ini"
fi

export ALIEN_JDL_ANCHOR_SIM_OPTIONS="-gen external -ini $O2DPG_ROOT/MC/config/PWGEM/ini/$CONFIGNAME"

---

# execute the central anchor steering script; this process involves:
# * calculating the timestamp
# * determining the interaction rate
# * retrieving and preparing configurations (such as which detectors are part of the run)
# * running the simulation and quality control
# To bypass quality control, uncomment this line:
#export DISABLE_QC=1
${O2DPG_ROOT}/MC/run/ANCHOR/anchorMC.sh

---

#!/bin/bash

#
# Script for configuring the HF enhanced dielectron MC simulation, anchored to LHC22o apass6
#

# Example configuration for anchoring
# Referenced from: https://its.cern.ch/jira/browse/O2-4586
export ALIEN_JDL_LPMANCHORPASSNAME=apass6
export ALIEN_JDL_MCANCHOR=apass6
export ALIEN_JDL_CPULIMIT=8
export ALIEN_JDL_LPMRUNNUMBER=526641
export ALIEN_JDL_LPMPRODUCTIONTYPE=MC
export ALIEN_JDL_LPMINTERACTIONTYPE=pp
export ALIEN_JDL_LPMPRODUCTIONTAG=LHC24a2
export ALIEN_JDL_LPMANCHORRUN=526641
export ALIEN_JDL_LPMANCHORPRODUCTION=LHC22o
export ALIEN_JDL_LPMANCHORYEAR=2022
export ALIEN_JDL_OUTPUT=*.dat@disk=1,*.txt@disk=1,*.root@disk=2

export NTIMEFRAMES=1
export NSIGEVENTS=20
export SPLITID=100
export PRODSPLIT=153
export CYCLE=0

# On the GRID, this is used as a seed; if set, it overrides the SEED value
#export ALIEN_PROC_ID=2963436952
export SEED=0

# For pp interactions and 50 events per time frame, only 4 workers are launched.
export NWORKERS=2