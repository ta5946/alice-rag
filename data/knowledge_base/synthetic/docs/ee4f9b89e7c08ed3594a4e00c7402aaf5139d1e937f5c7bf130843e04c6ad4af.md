## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/UTILS/root_merger.py

**Start chunk id:** ee4f9b89e7c08ed3594a4e00c7402aaf5139d1e937f5c7bf130843e04c6ad4af

## Content

#!/usr/bin/env python3

# Simple ROOT files merger script

from ROOT import TFile, TFileMerger
import sys
import os
import argparse

output_file = ''
input_files = []
# setting up command line options

parser = argparse.ArgumentParser(description='A simple tool to merge ROOT files',
                                 formatter_class=argparse.ArgumentDefaultsHelpFormatter)

parser.add_argument('-o','--output', help='Name of the output ROOT file', required=True)
parser.add_argument('-i','--input', help='Comma-separated list of input ROOT files to be merged', required=True)

args = parser.parse_args()

output_file = args.output
input_files = args.input.split(',')

merger = TFileMerger(False)
merger.OutputFile(output_file)

for input_file in input_files:
    if os.path.exists(input_file):
        merger.AddFile(input_file)
    else:
        print(f"Error: {input_file} does not exist.")
        sys.exit(1)

---

if not merger.Merge():
    print("Error: Merging was unsuccessful.")
    sys.exit(2)
else:
    print(f"Files were successfully merged into {output_file}")

sys.exit(0)