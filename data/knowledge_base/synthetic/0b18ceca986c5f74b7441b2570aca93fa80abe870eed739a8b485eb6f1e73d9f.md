## Metadata

**Document link:** https://github.com/AliceO2Group/O2DPG/blob/master/DATA/production/aggregator-workflow.sh

**Start chunk id:** 0b18ceca986c5f74b7441b2570aca93fa80abe870eed739a8b485eb6f1e73d9f

## Content

**Question:** What will happen if the O2 environment is not loaded when running the script?

**Answer:** If the O2 environment is not loaded when running the script, the script will output "O2 environment not loaded" to the standard error stream and exit with a status code of 1.

---

**Question:** What will happen if the aggregator-workflow.sh script fails to source?

**Answer:** If the aggregator-workflow.sh script fails to source, the script will output "aggregator-workflow.sh failed" to standard error and exit with a status of 1.

---

**Question:** What specific condition triggers the failure message "aggregator-workflow.sh failed" and how does the script handle this condition to prevent the execution of the full-system-test?

**Answer:** The specific condition that triggers the failure message "aggregator-workflow.sh failed" is when the `aggregator-workflow.sh` script fails to source successfully. This occurs if the script encounters an error during execution or if it cannot be found.

To handle this condition, the script checks the exit status of the `source` command used to execute `aggregator-workflow.sh`. If the `source` command fails (i.e., `aggregator-workflow.sh` fails to run), the script immediately prints the failure message "aggregator-workflow.sh failed" to standard error (`1>&2`) and exits with a status code of 1, preventing the rest of the full-system-test from executing.