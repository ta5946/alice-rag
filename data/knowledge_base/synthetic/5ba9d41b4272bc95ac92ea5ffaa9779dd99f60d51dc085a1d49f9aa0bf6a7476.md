## Metadata

**Document link:** https://github.com/AliceO2Group/AliceO2/blob/dev/run/SimExamples/Selective_Transport_pi0/run.sh

**Start chunk id:** 5ba9d41b4272bc95ac92ea5ffaa9779dd99f60d51dc085a1d49f9aa0bf6a7476

## Content

**Question:** What does the `transportPrimary` parameter specify in the sim.ini file?

**Answer:** The `transportPrimary` parameter in the sim.ini file specifies the mode of selection for particle transport through the detector geometry. When set to `external`, it indicates that the criteria for particle transport are defined externally, via a plugin macro specified by the `transportPrimaryFileName` and `transportPrimaryFuncName` parameters.

---

**Question:** What specific function and file are used to define the selective particle transport in the simulation, and how does the `transportPrimaryInvert` parameter affect this process?

**Answer:** The specific function and file used to define the selective particle transport in the simulation are `transportPDG(321)` from the file `transportPDG.macro`. The `transportPrimaryInvert` parameter, when set to `false`, means that the transport will be enabled for the selected particles. If it is set to `true`, the transport will be inhibited for the selected particles.

---

**Question:** What specific macro and function are used to define the selective particle transport for particles with PDG code 321, and how does the `transportPrimaryInvert` parameter affect this process?

**Answer:** The macro used to define the selective particle transport for particles with PDG code 321 is named `transportPDG.macro`, and the function called within this macro is `transportPDG(321)`. The `transportPrimaryInvert` parameter, when set to `false`, ensures that particles with PDG code 321 are allowed to be transported through the detector geometry as defined in the `transportPDG.macro` macro. If `transportPrimaryInvert` were set to `true`, the transport of particles with PDG code 321 would be inhibited instead.

---

**Question:** What trigger condition must be met for the simulation to propagate all the remaining tracks in the second step?

**Answer:** For the simulation to propagate all the remaining tracks in the second step, the trigger condition must require that both photons from pi0 decay have converted within a given region.

---

**Question:** What specific trigger condition is required for the propagation of all remaining tracks in this simulation step?

**Answer:** The specific trigger condition required for the propagation of all remaining tracks in this simulation step is that both photons from the pi0 decay must have converted within a given region.

---

**Question:** What specific trigger condition must be met for an event to have its tracks propagated in the second step of the simulation, and how is this condition related to the pi0 decay photons?

**Answer:** For an event to have its tracks propagated in the second step of the simulation, a specific trigger condition must be met. This trigger requires that both photons from the pi0 decay have converted within a given region. This condition ensures that the event has the necessary characteristics for further simulation steps involving the propagation of all remaining tracks.

---

**Question:** How many events are simulated in step 1?

**Answer:** 100

---

**Question:** What are the event numbers used in step 1 and step 2 of the simulation process described in the document?

**Answer:** The event numbers used in step 1 and step 2 of the simulation process are 100 for step 1 and 1 for step 2.

---

**Question:** What specific conditions and configurations are required to simulate events using external kinetic information in the O2 framework, and how are these conditions applied in the second simulation step?

**Answer:** To simulate events using external kinetic information in the O2 framework, the specific conditions and configurations include the usage of the `extkinO2` generation method and the `external` trigger option. These conditions are applied in the second simulation step as follows:

- The `-g` option is set to `extkinO2`, indicating the use of external kinetic information.
- The `--extKinFile` option specifies the input file containing the kinetic data, which in this case is `step1_Kine.root`.
- The `--trigger external` option is used to instruct the simulation to rely on external triggers.

These configurations are implemented in the second simulation step via the command:

```
o2-sim -j ${NWORKERS} -n ${NEVENTS2} -g extkinO2 -m ${MODULES} -o step2 \
       --extKinFile step1_Kine.root \
       --configFile sim_step2.ini \
       --trigger external
```